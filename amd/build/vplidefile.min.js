define(["jquery","jqueryui","mod_vpl/vplutil","mod_vpl/vplidecodefile","mod_vpl/vplideblocklyfile","mod_vpl/vplidebinaryfile"],function(a,b,c,d,e,f){return function(b,g,h,i,j){var k="#vpl_file"+b,l="#vpl_tab_name"+b,m=g,n=!0,o=!1,p=this;this.getContent=function(){return h},this.setContent=function(a){h=a},this.getFileManager=function(){return i},this.getFileName=function(){return m},this.getId=function(){return b},this.getTabNameId=function(){return l},this.getTId=function(){return k},this.getFileName=function(){return m},this.isModified=function(){return n},this.resetModified=function(){n=!1,this.showFileName()},this.setModified=function(){n=!0,this.showFileName()},this.getTabPos=function(){return i.getTabPos(this)},this.isOpen=function(){return o},this.setOpen=function(a){o=a},this.getVPLIDE=function(){return j},this.change=function(){n||(this.setModified(),i.generateFileList(),this.showFileName(),c.longDelay("setModified",i.setModified))},this.setFileName=function(a){return!!c.validPath(a)&&(!(a!=m&&(m=a,p.change()),!!this.isOpen())||(this.showFileName(),this.langSelection(),!0))},this.showFileName=function(){var b=this.getFileName(),d=c.getFileName(b);20<d.length&&(d=d.substring(0,16)+"...");var e=(n?c.iconModified():"")+d;e+=this.getTabPos()<i.minNumberOfFiles?c.iconRequired():c.iconClose(),a(l+" a").html(e),d!=b&&a(l+" a").attr("title",b),c.afterAll("adjustTabsTitles"+p.id,function(){i.adjustTabsTitles(!0),c.delay("adjustTabsTitles"+p.id,function(){p.adjustSize()})})},this.destroy=function(){a(l).remove(),a(k).remove()},this.adjustSize=function(){if(!this.isOpen())return!1;var b=a(k),c=b.parent();if(0===b.length)return!1;var d=b.height(),e=b.width(),f=c.height();f-=b.position().top;var g=a("#vpl_tabs_scroll").width();return!(f==d&&g==e)&&(a(b).height(f),a(b).width(g),!0)},this.gotoLine=c.doNothing,this.setReadOnly=c.doNothing,this.focus=c.doNothing,this.blur=c.doNothing,this.undo=c.doNothing,this.redo=c.doNothing,this.selectAll=c.doNothing,this.open=c.doNothing,this.hasUndo=c.returnFalse,this.hasRedo=c.returnFalse,this.hasSelectAll=c.returnFalse,this.hasFind=c.returnFalse,this.hasFindReplace=c.returnFalse,this.hasNext=c.returnFalse,this.find=c.doNothing,this.replace=c.doNothing,this.next=c.doNothing,this.getAnnotations=function(){return[]},this.setAnnotations=c.doNothing,this.setFontSize=c.doNothing,this.setTheme=c.doNothing,this.clearAnnotations=c.doNothing,this.langSelection=c.doNothing,this.isBinary=c.returnFalse,this.extendToCodeEditor=d,this.extendToBlockly=e,this.extendToBinary=f}});