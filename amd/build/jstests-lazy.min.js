define(["jquery","mod_vpl/vplutil"],function(a,b){function c(){var b=k+" asserts tested";window.console.log(b),a("#test_results").append(a("<p></p>").text(b));var c;if(c=0==h.length?"Test passed":h.length+" errors found",window.console.log(c),a("#test_results").append(a("<p></p>").text(c)),0<h.length){for(var d=a("<ol></ol>"),e=0;e<h.length;e++){window.console.log(e+1+": "+h[e]);var f=a("<li></li>");f.text(h[e]),d.append(f)}a("#test_results").append(d)}}function d(a,b){k++,a||"string"!=typeof b||h.push("Error: "+b+" testing "+j)}function e(c,a,b){k++,c!=a&&"string"==typeof b&&h.push("Error: "+b+" testing "+j+". Expected \""+c+"\" found \""+a+"\"")}function f(){for(var a=0;a<g.length;a++)try{j=g[a].name,g[a].test()}catch(a){h.push("Error: Exception "+a.message+" testing "+j+"\n"+a.stack)}}var g=[],h=[],j="",k=0;return g.push({name:"VPLUtil",test:function(){d(b.returnTrue(),"returnTrue"),d(!b.returnFalse(),"returnFalse"),function(){var a=new ArrayBuffer(13);e(13,a.byteLength,"rawData.byteLength");for(var c=new Uint8Array(a),d=0;d<c.length;d++)c[d]=Math.round(255*Math.random());e(13,c.length,"bufferData.length");var f="abcde\xF1hfj\xE9\xC7123143565387095609784",g=b.String2ArrayBuffer("abcde\xF1hfj\xE9\xC7123143565387095609784"),h=b.ArrayBuffer2String(g);e("abcde\xF1hfj\xE9\xC7123143565387095609784",h,"ArrayBuffer2String"),h=b.ArrayBuffer2String(a),g=b.String2ArrayBuffer(h);var k=new Uint8Array(g);if(e(c.length,k.length,"String2ArrayBuffer"),c.length==k.length)for(var l=0;l<c.length;l++)e(c[l],k[l],"String2ArrayBuffer values")}(),function(){e("c",b.fileExtension("a.c"),"fileExtension"),e("C",b.fileExtension("a.c.C"),"fileExtension"),e("hxx",b.fileExtension("a.hxx"),"fileExtension"),e("all",b.fileExtension(".all"),"fileExtension")}(),function(){d(!b.isImage("a.c"),"isImage")}(),function(){d(!b.isBinary("a.c"),"isBinary")}(),function(){d(!b.isBlockly("a.c"),"isBlockly")}(),function(){d(b.validFileName("a.c"),"validFileName")}()}}),f(),{start:function(){a(c)}}});