{"version":3,"file":"vplide.min.js","names":["define","$","jqui","VPLUtil","VPLFile","VPLIDEButtons","VPLTerminal","VPLVNCClient","vplIdeInstance","VPLIDE","rootId","options","dragoverHandler","e","originalEvent","dataTransfer","dropEffect","restrictedEdit","preventDefault","dropHandler","stopImmediatePropagation","dt","files","length","readSelectedFiles","file","fileManager","addFile","updateMenu","showErrorMessage","fileListVisibleIfNeeded","restrictedPaste","stopPropagation","avoidSelectGrade","event","ui","newHeader","hasClass","FileManager","fileNameIncluded","name","nameMod","checkName","toLowerCase","i","getFileName","indexOf","twoBlockly","oldname","newname","isBlockly","tabsUl","tabs","openFiles","modified","self","version","setVersion","v","getVersion","updateFileList","generateFileList","fileNameExists","readOnly","adjustTabsTitles","minNumberOfFiles","scrollBarWidth","localClipboard","setClipboard","t","getClipboard","getTabPos","getTheme","theme","setTheme","addTab","fid","hlink","append","removeTab","find","remove","open","pos","isOpen","getId","push","menuButtons","setGetkeys","delay","close","ptab","splice","fileListVisible","getFilePosById","gotoFile","isClosed","b","fileListContainer","vplVisible","show","autoResizeTab","hide","isFileListVisible","setFontSize","size","fontSize","terminal","getFontSize","replace","ok","showError","validPath","str","setContent","contents","setModified","maxNumberOfFiles","getUniqueId","newfile","encoding","extendToBinary","extendToBlockly","extendToCodeEditor","setFileName","renameFile","Error","isBinary","fileExtension","getContent","showMessage","deleteFile","fileResult","gotoFileName","currentFile","id","arguments","action","fun","args","Array","prototype","slice","shift","apply","currentPos","getFileTab","l","gotoLine","parseInt","focus","gotoFileLink","a","tag","fname","data","fpos","line","getFilesToSave","ret","resetModified","isModified","clearAnnotations","getFile","getFiles","getDirectoryStructure","addFilePath","fileName","path","split","curdir","structure","p","hasOwnProperty","part","content","isDir","lister","dir","indent","lines","fd","iconFolder","sanitizeText","sname","attrs","iconModified","iconRequired","dirIndent","html","fileListContent","on","getAction","getTabsAir","tabsAir","outerWidth","width","resizeTabWidth","maxWidth","diffLeft","position","left","originalPosition","vplMinWidth","resizable","vplOriginalWidth","resultContainer","diffWidth","originalSize","updateTabsHandles","handles","index","resizableOptions","disable","resizeHeight","newHeight","window","outerHeight","menu","offset","top","height","fullScreen","tr","panelHeight","result","accordion","fileList","focusCurrentFile","message","extend","dialogbaseOptions","newFileHandler","type","keyCode","dialogNew","dialog","val","renameHandler","dialogRename","resetFiles","requestAction","ajaxurl","done","response","doNothing","fail","executionRequest","acting","lastConsole","isConnected","webSocketMonitor","executionActions","runAction","XGEOMETRY","VNCClient","getCanvasSize","debugAction","evaluateAction","minfiles","maxfiles","restrictededitor","example","isTeacher","rootObj","optionsToCheck","new","rename","delete","save","run","edit","debug","evaluate","import","resetfiles","sort","multidelete","acetheme","console","comments","loadajaxurl","activateModification","isOptionAllowed","op","updateEvaluationNumber","res","nevaluations","text","reductionbyevaluation","freeevaluations","setExtracontent","lastResult","getTerminal","setResultGrade","raw","titleclass","contentclass","titleTag","replaceWith","setResultTab","contentTag","HTMLcontent","setResult","go","fileNames","hasContent","gradeShow","formated","grade","variables","processResult","compilation","evaluation","execution","VPLDescription","MathJax","math","Hub","Queue","removeClass","addClass","replaceAll","children","anot","getAnnotations","j","row","heightStyle","header","animate","beforeActivate","currentTarget","containment","resize","start","off","stop","center","newWidth","tabsUlWidth","last","parentScrollLeft","parent","scrollLeft","fileTab","getTabNameId","scroll","finish","oldWidth","planb","css","right","rel","wfl","dialogButtons","title","buttons","setDialogTitleIcon","dialogComments","aboutDialog","OKButtons","shortcutDialog","getShortcuts","next","filter","button","dialogSort","dialogSortButtons","regNoNumber","sorted","newOrder","each","orig","list","sortable","items","placeholder","item","disableSelection","maxHeight","dialogMultidelete","dialogMultideleteButtons","prop","toDeleteList","labelList","label","dialogFontsize","fontsizeSlider","dialogFontFizeButtons","value","slider","ajax","async","url","JSON","stringify","contentType","dataType","min","max","change","dialogAceTheme","acethemeSelect","dialogAceThemeButtons","setUserPreferences","aceTheme","modal","vpl_results","fileSelect","fileSelectHandler","add","originalAction","bindKey","win","mac","filename","icon","trigger","print","editorName","tags","setText","scrollTop","username","setTimeout","location","download","doSave","reg","langConfigParseError","test","parse","SyntaxError","requestsconfirmation","question","yes","setTimeLeft","monitorRunning","processid","getProcessId","postMaxSize","setLastAction","toggleTimeLeft","is","getHTML","rightPanelButton","launchAction","menuHtml","controlgroup","alwaysActive","enable","nfiles","running","sel","hasUndo","hasRedo","hasSelectAll","hasFind","hasFindReplace","hasNext","getConsole","coninfo","ws","parsed","exec","connect","executionURL","URLfavicon","secure","server","portToUse","imgFavicon","attr","VNCpassword","executionPath","URL","log","lastAction","getLastAction","jw","checkMenuWidth","newMenuWidth","oldMenuWidth","setInterval","allOK","showFileList","r","compilationexecution","saved","afterAll","init"],"sources":["../src/vplide.js"],"sourcesContent":["// This file is part of VPL for Moodle - http://vpl.dis.ulpgc.es/\n//\n// VPL for Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// VPL for Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with VPL for Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * IDE Control\n *\n * @copyright 2017 Juan Carlos Rodríguez-del-Pino\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @author Juan Carlos Rodríguez-del-Pino <jcrodriguez@dis.ulpgc.es>\n */\n\n/* globals MathJax */\n\ndefine(\n    [\n        'jquery',\n        'jqueryui',\n        'mod_vpl/vplutil',\n        'mod_vpl/vplidefile',\n        'mod_vpl/vplidebutton',\n        'mod_vpl/vplterminal',\n        'mod_vpl/vplvnc',\n    ],\n    function($, jqui, VPLUtil, VPLFile, VPLIDEButtons, VPLTerminal, VPLVNCClient) {\n        if (typeof VPLIDE !== 'undefined') {\n            return VPLIDE;\n        }\n        var vplIdeInstance;\n        var VPLIDE = function(rootId, options) {\n            var self = this;\n            var fileManager;\n            var adjustTabsTitles;\n            var autoResizeTab;\n            var showErrorMessage;\n            var updateMenu;\n            var executionActions;\n            var minNumberOfFiles = options.minfiles || 0;\n            var maxNumberOfFiles = options.maxfiles || 0;\n            var restrictedEdit = options.restrictededitor || options.example;\n            var readOnly = options.example;\n            var isTeacher = options.isTeacher;\n            var fullScreen = false;\n            var scrollBarWidth = VPLUtil.scrollBarWidth();\n            var str = VPLUtil.str;\n            var rootObj = $('#' + rootId);\n            $(\"head\").append('<meta name=\"viewport\" content=\"initial-scale=1\">')\n                          .append('<meta name=\"viewport\" width=\"device-width\">')\n                          .append('<link rel=\"stylesheet\" href=\"../editor/VPLIDE.css\"/>');\n            if (typeof rootObj != 'object') {\n                throw new Error(\"VPL: constructor tag_id not found\");\n            }\n            var optionsToCheck = {\n                'new': true,\n                'rename': true,\n                'delete': true,\n                'save': true,\n                'run': true,\n                'edit': true,\n                'debug': true,\n                'evaluate': true,\n                'import': true,\n                'resetfiles': true,\n                'sort': true,\n                'multidelete': true,\n                'acetheme': true,\n                'console': true,\n                'comments': true\n            };\n            if ((typeof options.loadajaxurl) == 'undefined') {\n                options.loadajaxurl = options.ajaxurl;\n            }\n            (function() {\n                var activateModification = (minNumberOfFiles < maxNumberOfFiles);\n                options.new = activateModification;\n                options.rename = activateModification;\n                options.delete = activateModification;\n                options.comments = options.comments && !options.example;\n                options.acetheme = true;\n            })();\n            options.sort = (maxNumberOfFiles - minNumberOfFiles >= 2);\n            options.multidelete = options.sort;\n            options.import = !restrictedEdit;\n            var isOptionAllowed = function(op) {\n                if (!optionsToCheck[op]) {\n                    return true;\n                }\n                return options[op];\n            };\n            options.console = isOptionAllowed('run') || isOptionAllowed('debug');\n            if ((typeof options.fontSize) == 'undefined') {\n                options.fontSize = 12;\n            }\n            options.fontSize = parseInt(options.fontSize);\n            /**\n             * Handler for dragover event.\n             * @param {object} e event.\n             */\n            function dragoverHandler(e) {\n                if (restrictedEdit) {\n                    e.originalEvent.dataTransfer.dropEffect = 'none';\n                } else {\n                    e.originalEvent.dataTransfer.dropEffect = 'copy';\n                }\n                e.preventDefault();\n            }\n            /**\n             * Handler for drop event.\n             * @param {object} e event.\n             * @returns {boolean}\n             */\n            function dropHandler(e) {\n                if (restrictedEdit) { // No drop allowed.\n                    e.stopImmediatePropagation();\n                    return false;\n                }\n                var dt = e.originalEvent.dataTransfer;\n                // Drop files.\n                if (dt.files.length > 0) {\n                    VPLUtil.readSelectedFiles(dt.files, function(file) {\n                        return fileManager.addFile(file, true, updateMenu, showErrorMessage);\n                    },\n                    function() {\n                        fileManager.fileListVisibleIfNeeded();\n                    });\n                    e.stopImmediatePropagation();\n                    return false;\n                }\n                return false;\n            }\n            rootObj.on('drop', dropHandler);\n            rootObj.on('dragover', dragoverHandler);\n            /**\n             * Handler for paste limited by restrictedEdit var.\n             * @param {object} e event.\n             * @returns {boolean}\n             */\n            function restrictedPaste(e) {\n                if (restrictedEdit) {\n                    e.stopPropagation();\n                    return false;\n                }\n                return true;\n            }\n            // Init editor vars.\n            var menu = $('#vpl_menu');\n            var menuButtons = new VPLIDEButtons(menu, isOptionAllowed);\n            var tr = $('#vpl_tr');\n            var fileListContainer = $('#vpl_filelist');\n            var fileList = $('#vpl_filelist_header');\n            var fileListContent = $('#vpl_filelist_content');\n            var tabsUl = $('#vpl_tabs_ul');\n            var tabs = $('#vpl_tabs');\n            var resultContainer = $('#vpl_results');\n            var result = $('#vpl_results_accordion');\n            fileListContainer.vplMinWidth = 80;\n            resultContainer.vplMinWidth = 100;\n            /**\n             * Avoids selecting grade.\n             * @param {object} event Unuse.\n             * @param {object} ui UI origen.\n             * @returns {boolean}\n             */\n            function avoidSelectGrade(event, ui) {\n                if (\"newHeader\" in ui) {\n                    if (ui.newHeader.hasClass('vpl_ide_accordion_t_grade')) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            /**\n             * Constructor of FileManager objects\n             */\n            function FileManager() {\n                var tabsUl = $('#vpl_tabs_ul');\n                $('#vpl_tabs').tabs();\n                var tabs = $('#vpl_tabs').tabs(\"widget\");\n                var files = [];\n                var openFiles = [];\n                var modified = true;\n                var self = this;\n                (function() {\n                    var version;\n                    self.setVersion = function(v) {\n                       version = v;\n                    };\n                    self.getVersion = function() {\n                       return version;\n                    };\n                })();\n                this.updateFileList = function() {\n                    self.generateFileList();\n                };\n                this.fileNameExists = function(name) {\n                    var checkName = name.toLowerCase();\n                    for (var i = 0; i < files.length; i++) {\n                        if (files[i].getFileName().toLowerCase() == checkName) {\n                            return i;\n                        }\n                    }\n                    return -1;\n                };\n                /**\n                 * Checks if name is included in current files names\n                 * @param {string} name Name of file\n                 * @returns {boolean} if found or not found\n                 */\n                function fileNameIncluded(name) {\n                    var checkName = name.toLowerCase() + '/';\n                    for (var i = 0; i < files.length; i++) {\n                        var nameMod = files[i].getFileName().toLowerCase() + '/';\n                        // Check for name as directory existent.\n                        if (nameMod.indexOf(checkName) === 0 || checkName.indexOf(nameMod) === 0) {\n                            return true;\n                        }\n                    }\n                    return false;\n                }\n                /**\n                 * Checks if changing file name results in two blovkly files\n                 * @param {string} oldname The old file name\n                 * @param {string} newname The new file name\n                 * @returns {boolean} if results two two blovkly files\n                 */\n                function twoBlockly(oldname, newname) {\n                    if (VPLUtil.isBlockly(oldname)) {\n                        return false;\n                    }\n                    if (VPLUtil.isBlockly(newname)) {\n                        for (var i = 0; i < files.length; i++) {\n                            if (VPLUtil.isBlockly(files[i].getFileName())) {\n                                return true;\n                            }\n                        }\n                    }\n                    return false;\n                }\n                this.restrictedPaste = restrictedPaste;\n                this.dropHandler = dropHandler;\n                this.dragoverHandler = dragoverHandler;\n                this.readOnly = readOnly;\n                this.restrictedEdit = restrictedEdit;\n                this.adjustTabsTitles = adjustTabsTitles;\n                this.minNumberOfFiles = minNumberOfFiles;\n                this.scrollBarWidth = scrollBarWidth;\n                var localClipboard = \"\";\n                this.setClipboard = function(t) {\n                    localClipboard = t;\n                };\n                this.getClipboard = function() {\n                    return localClipboard;\n                };\n                this.getTabPos = function(file) {\n                    for (var i = 0; i < openFiles.length; i++) {\n                        if (openFiles[i] == file) {\n                            return i;\n                        }\n                    }\n                    return openFiles.length;\n                };\n                this.getTheme = function() {\n                    return options.theme;\n                };\n                this.setTheme = function(theme) {\n                    options.theme = theme;\n                    for (var i = 0; i < files.length; i++) {\n                        files[i].setTheme(theme);\n                    }\n                };\n                this.addTab = function(fid) {\n                    var hlink = '<a href=\"#vpl_file' + fid + '\"></a>';\n                    tabsUl.append('<li id=\"vpl_tab_name' + fid + '\">' + hlink + '</li>');\n                    tabs.append('<div id=\"vpl_file' + fid + '\" class=\"vpl_ide_file\"></div>');\n                };\n                this.removeTab = function(fid) {\n                    tabsUl.find('#vpl_tab_name' + fid).remove();\n                    tabs.find('#vpl_file' + fid).remove();\n                };\n                this.open = function(pos) {\n                    var file;\n                    if (typeof pos == 'object') {\n                        file = pos;\n                    } else {\n                        file = files[pos];\n                    }\n                    if (file.isOpen()) {\n                        return;\n                    }\n                    var fid = file.getId();\n                    self.addTab(fid);\n                    openFiles.push(file);\n                    menuButtons.setGetkeys(file.open());\n                    tabs.tabs('refresh');\n                    adjustTabsTitles(false);\n                    VPLUtil.delay('updateFileList', self.updateFileList);\n                    VPLUtil.delay('updateMenu', updateMenu);\n                };\n                this.close = function(file) {\n                    if (!file.isOpen()) {\n                        return;\n                    }\n                    var pos;\n                    var fid = file.getId();\n                    file.close();\n                    self.removeTab(fid);\n                    var ptab = self.getTabPos(file);\n                    openFiles.splice(ptab, 1);\n                    tabs.tabs('refresh');\n                    adjustTabsTitles(false);\n                    self.fileListVisible(true);\n                    VPLUtil.delay('updateFileList', self.updateFileList);\n                    VPLUtil.delay('adjustTabsTitles', adjustTabsTitles, false);\n                    if (openFiles.length > ptab) {\n                        pos = self.getFilePosById(openFiles[ptab].getId());\n                        self.gotoFile(pos, 'c');\n                        return;\n                    }\n                    if (ptab > 0) {\n                        pos = self.getFilePosById(openFiles[ptab - 1].getId());\n                        self.gotoFile(pos, 'c');\n                        return;\n                    }\n                };\n                this.isClosed = function(pos) {\n                    return !files[pos].isOpen();\n                };\n                this.fileListVisible = function(b) {\n                    if (b === fileListContainer.vplVisible) {\n                        return;\n                    }\n                    if (b) {\n                        VPLUtil.delay('fileListVisible', function() {\n                            fileListContainer.vplVisible = true;\n                            self.updateFileList();\n                            fileListContainer.show();\n                            autoResizeTab();\n                         });\n                    } else {\n                        VPLUtil.delay('fileListVisible', function() {\n                            fileListContainer.vplVisible = false;\n                            fileListContainer.hide();\n                            autoResizeTab();\n                         });\n                    }\n                };\n                this.isFileListVisible = function() {\n                    return fileListContainer.vplVisible;\n                };\n                this.fileListVisibleIfNeeded = function() {\n                    if (this.isFileListVisible()) {\n                        return;\n                    }\n                    for (var i = 0; i < files.length; i++) {\n                        if (!files[i].isOpen()) {\n                            this.fileListVisible(true);\n                            return;\n                        }\n                    }\n                };\n                this.setFontSize = function(size) {\n                    options.fontSize = size;\n                    for (var i = 0; i < files.length; i++) {\n                        files[i].setFontSize(size);\n                    }\n                    terminal.setFontSize(size);\n                };\n                this.getFontSize = function() {\n                    return options.fontSize;\n                };\n                this.addFile = function(file, replace, ok, showError) {\n                    if ((typeof file.name != 'string') || !VPLUtil.validPath(file.name)) {\n                        showError(str('incorrect_file_name') + ' (' + file.name + ')');\n                        return false;\n                    }\n                    if (replace !== true) {\n                        replace = false;\n                    }\n                    var pos = this.fileNameExists(file.name);\n                    if (pos != -1) {\n                        if (replace) {\n                            files[pos].setContent(file.contents);\n                            self.setModified();\n                            ok();\n                            VPLUtil.delay('updateFileList', self.updateFileList);\n                            return file;\n                        } else {\n                            showError(str('filenotadded', file.name));\n                            return false;\n                        }\n                    }\n                    if (fileNameIncluded(file.name) || twoBlockly('', file.name)) {\n                        showError(str('filenotadded', file.name));\n                        return false;\n                    }\n                    if (files.length >= maxNumberOfFiles) {\n                        showError(str('maxfilesexceeded') + ' (' + maxNumberOfFiles + ')');\n                        return false;\n                    }\n                    var fid = VPLUtil.getUniqueId();\n                    var newfile = new VPLFile(fid, file.name, file.contents, this, vplIdeInstance);\n                    if (file.encoding == 1) {\n                        newfile.extendToBinary();\n                    } else {\n                        if (VPLUtil.isBlockly(file.name)) {\n                            newfile.extendToBlockly();\n                        } else {\n                            newfile.extendToCodeEditor();\n                        }\n                    }\n                    newfile.setFileName(file.name);\n                    files.push(newfile);\n                    self.setModified();\n                    if (files.length > 5) {\n                        self.fileListVisible(true);\n                    }\n                    ok();\n                    return newfile;\n                };\n                this.renameFile = function(oldname, newname, showError) {\n                    var pos = this.fileNameExists(oldname);\n                    try {\n                        if (pos == -1) {\n                            throw new Error(\"Internal error: File name not found\");\n                        }\n                        if (pos < minNumberOfFiles) {\n                            throw new Error(\"Internal error: Renaming requested filename\");\n                        }\n                        if (files[pos].getFileName() == newname) {\n                            return true; // Equals name file.\n                        }\n                        if (!VPLUtil.validPath(newname) ||\n                               fileNameIncluded(newname) ||\n                               twoBlockly(oldname, newname)) {\n                            throw str('incorrect_file_name');\n                        }\n                        if (VPLUtil.isBinary(oldname) && VPLUtil.fileExtension(oldname) != VPLUtil.fileExtension(newname)) {\n                            throw str('incorrect_file_name');\n                        }\n                        if (VPLUtil.isBlockly(oldname) != VPLUtil.isBlockly(newname)) {\n                            if (files[pos].getContent() > '') {\n                                showMessage(str('delete_file_fq', oldname), {\n                                    ok: function() {\n                                        var file = {\n                                            name: newname,\n                                            contents: '',\n                                            encoding: 0\n                                        };\n                                        fileManager.deleteFile(oldname, showError);\n                                        var fileResult = fileManager.addFile(file, false, updateMenu, showErrorMessage);\n                                        if (fileResult) {\n                                            fileManager.gotoFileName(newname);\n                                        }\n                                    }\n                                });\n                            } else {\n                                var file = {\n                                    name: newname,\n                                    contents: '',\n                                    encoding: 0\n                                };\n                                fileManager.deleteFile(oldname, showError);\n                                var fileResult = fileManager.addFile(file, false, updateMenu, showError);\n                                if (fileResult) {\n                                    fileManager.gotoFileName(newname);\n                                }\n                            }\n                            return true;\n                        }\n                        files[pos].setFileName(newname);\n                    } catch (e) {\n                        showError(str('filenotrenamed', newname) + ': ' + e);\n                        return false;\n                    }\n                    self.setModified();\n                    adjustTabsTitles(false);\n                    VPLUtil.delay('updateFileList', self.updateFileList);\n                    return true;\n                };\n                this.deleteFile = function(name, showError) {\n                    var pos = this.fileNameExists(name);\n                    if (pos == -1) {\n                        showError(str('filenotdeleted', name));\n                        return false;\n                    }\n                    if (pos < minNumberOfFiles) {\n                        showError(str('filenotdeleted', name));\n                        return false;\n                    }\n                    self.setModified();\n                    self.close(files[pos]);\n                    files.splice(pos, 1);\n                    VPLUtil.delay('updateFileList', self.updateFileList);\n                    return true;\n                };\n                this.currentFile = function() {\n                    var id = tabs.tabs('option', 'active');\n                    if (id in openFiles) {\n                        var file = openFiles[id];\n                        if (arguments.length === 0) {\n                            return file;\n                        }\n                        var action = arguments[0];\n                        if (typeof file[action] === 'function') {\n                            var fun = file[action];\n                            var args = Array.prototype.slice(arguments);\n                            args.shift();\n                            return fun.apply(file, args);\n                        }\n                    }\n                    return false;\n                };\n                this.currentPos = function() {\n                    return tabs.tabs('option', 'active');\n                };\n                this.getFileTab = function(id) {\n                    for (var i = 0; i < openFiles.length; i++) {\n                        if (openFiles[i].getId() == id) {\n                            return i;\n                        }\n                    }\n                    return -1;\n                };\n                this.getFilePosById = function(id) {\n                    for (var i = 0; i < files.length; i++) {\n                        if (files[i].getId() == id) {\n                            return i;\n                        }\n                    }\n                    return -1;\n                };\n                this.gotoFile = function(pos, l) {\n                    var file = files[pos];\n                    self.open(file);\n                    tabs.tabs('option', 'active', self.getFileTab(file.getId()));\n                    if (l !== 'c') {\n                        file.gotoLine(parseInt(l, 10));\n                    }\n                    file.focus();\n                };\n                this.gotoFileLink = function(a) {\n                    var tag = $(a);\n                    var fname = tag.data('file');\n                    var fpos = -1;\n                    if (fname > '') {\n                        fpos = this.fileNameExists(fname);\n                    } else {\n                        fpos = self.getFilePosById(tag.data('fileid'));\n                    }\n                    if (fpos >= 0) {\n                        var line = tag.data('line');\n                        if (typeof line == 'undefined') {\n                            line = 'c';\n                        }\n                        self.gotoFile(fpos, line);\n                        return true;\n                    }\n                    return false;\n                };\n                this.gotoFileName = function(fname, line) {\n                    var fpos = this.fileNameExists(fname);\n                    if (fpos >= 0) {\n                        if (typeof line == 'undefined') {\n                            line = 'c';\n                        }\n                        self.gotoFile(fpos, line);\n                        return true;\n                    }\n                    return false;\n                };\n                this.getFilesToSave = function() {\n                    var ret = [];\n                    for (var i = 0; i < files.length; i++) {\n                        var file = {};\n                        file.name = files[i].getFileName();\n                        file.contents = files[i].getContent();\n                        file.encoding = files[i].isBinary() ? 1 : 0;\n                        ret.push(file);\n                    }\n                    return ret;\n                };\n                this.resetModified = function() {\n                    modified = false;\n                    for (var i = 0; i < files.length; i++) {\n                        files[i].resetModified();\n                    }\n                    VPLUtil.delay('updateMenu', updateMenu);\n                    VPLUtil.delay('updateFileList', self.updateFileList);\n                };\n                this.setModified = function() {\n                    modified = true;\n                    VPLUtil.delay('updateFileList', self.updateFileList);\n                    VPLUtil.delay('updateMenu', updateMenu);\n                };\n                this.isModified = function() {\n                    return modified;\n                };\n                this.length = function() {\n                    return files.length;\n                };\n                this.clearAnnotations = function() {\n                    for (var i = 0; i < files.length; i++) {\n                        files[i].clearAnnotations();\n                    }\n                };\n                this.getFile = function(i) {\n                    return files[i];\n                };\n                this.getFiles = function() {\n                    return files;\n                };\n                this.getDirectoryStructure = function() {\n                    var structure = {\n                        isDir: true,\n                        content: {}\n                    };\n                    /**\n                     * Adds a new file the structure of directories\n                     * @param {int} i Index of file to add in the file array\n                     */\n                    function addFilePath(i) {\n                        var file = files[i];\n                        var fileName = file.getFileName();\n                        var path = fileName.split(\"/\");\n                        var curdir = structure;\n                        for (var p in path) {\n                            if (path.hasOwnProperty(p)) {\n                                var part = path[p];\n                                if (p == path.length - 1) { // File.\n                                    curdir.content[part] = {\n                                        isDir: false,\n                                        content: file,\n                                        pos: i\n                                    };\n                                } else {\n                                    if (!curdir.content[part]) { // New dir.\n                                        curdir.content[part] = {\n                                            isDir: true,\n                                            content: {}\n                                        };\n                                    }\n                                    // Descend Dir.\n                                    curdir = curdir.content[part];\n                                }\n                            }\n                        }\n                    }\n                    for (var i in files) {\n                        if (files.hasOwnProperty(i)) {\n                            addFilePath(i);\n                        }\n                    }\n                    return structure;\n                };\n                this.generateFileList = function() {\n                    if (!self.isFileListVisible()) {\n                        return;\n                    }\n                    var dirIndent = '<span class=\"vpl_ide_dirindent\"></span>';\n                    /**\n                     * Generates an array of string with the HTML code to represent the list of IDE files\n                     * @param {Object} dir Current directory\n                     * @param {int} indent Html code to indent subdirectories\n                     * @param {Array} lines Output. Each line contains the HTML to represent an IDE file\n                     */\n                    function lister(dir, indent, lines) {\n                        for (var name in dir.content) {\n                            if (dir.content.hasOwnProperty(name)) {\n                                var fd = dir.content[name];\n                                if (fd.isDir) {\n                                    lines.push(indent + VPLUtil.iconFolder() + VPLUtil.sanitizeText(name));\n                                    lister(fd, indent + dirIndent, lines);\n                                } else {\n                                    var file = fd.content;\n                                    var sname = VPLUtil.sanitizeText(name);\n                                    var path = VPLUtil.sanitizeText(file.getFileName());\n                                    if (file.isOpen()) {\n                                        sname = '<b>' + sname + '</b>';\n                                    }\n                                    var attrs = 'href=\"#\" data-fileid=\"' + file.getId() + '\" title=\"' + path + '\"';\n                                    var line = '<a ' + attrs + '>' + sname + '</a>';\n                                    if (file.isModified()) {\n                                        line = VPLUtil.iconModified() + line;\n                                    }\n                                    if (fd.pos < minNumberOfFiles) {\n                                        line = line + VPLUtil.iconRequired();\n                                    }\n                                    lines.push(indent + line);\n                                }\n                            }\n                        }\n                    }\n\n                    var structure = self.getDirectoryStructure();\n                    var lines = [];\n                    var html = '';\n                    lister(structure, '', lines);\n                    for (var i = 0; i < lines.length; i++) {\n                        html += lines[i] + '<br>';\n                    }\n                    fileListContent.html('<div>' + html + '</div>');\n                };\n                tabsUl.on('click', 'span.vpl_ide_closeicon', function() {\n                    fileManager.close(fileManager.currentFile());\n                });\n                tabsUl.on('dblclick', 'span.vpl_ide_closeicon', menuButtons.getAction('delete'));\n                tabsUl.on('dblclick', 'a', menuButtons.getAction('rename'));\n                fileListContent.on('dblclick', 'a', menuButtons.getAction('rename'));\n\n            }\n            this.updateEvaluationNumber = function(res) {\n                if (typeof res.nevaluations != 'undefined') {\n                    var text = res.nevaluations;\n                    if (typeof res.reductionbyevaluation != 'undefined'\n                         && res.reductionbyevaluation > ''\n                         && res.reductionbyevaluation != 0) {\n                        if (res.freeevaluations != 0) {\n                            text = text + '/' + res.freeevaluations;\n                        }\n                        text = text + ' -' + res.reductionbyevaluation;\n                    }\n                    menuButtons.setExtracontent('evaluate', text);\n                }\n            };\n            this.lastResult = null;\n            this.getTerminal = function() {\n                return terminal;\n            };\n            this.setResultGrade = function(content, raw) {\n                var name = 'grade';\n                var titleclass = 'vpl_ide_accordion_t_' + name;\n                var contentclass = 'vpl_ide_accordion_c_' + name;\n                if (result.find('.' + contentclass).length == 0) {\n                    result.append('<div class=\"' + titleclass + '\"></div>');\n                    result.append('<div class=\"' + contentclass + '\"></div>');\n                }\n                if (typeof raw == 'undefined') {\n                    return result.find('h4.' + titleclass).length > 0;\n                }\n                var titleTag = result.find('.' + titleclass);\n                if (content > '') {\n                    titleTag.replaceWith('<h4 class=\"' + titleclass + '\">' + content + '</h4>');\n                    return true;\n                } else {\n                    titleTag.replaceWith('<div class=\"' + titleclass + '\"></div>');\n                    return false;\n                }\n            };\n            this.setResultTab = function(name, content, raw) {\n                var titleclass = 'vpl_ide_accordion_t_' + name;\n                var contentclass = 'vpl_ide_accordion_c_' + name;\n                if (result.find('.' + contentclass).length == 0) {\n                    result.append('<div class=\"' + titleclass + '\"></div>');\n                    result.append('<div class=\"' + contentclass + '\"></div>');\n                }\n                if (typeof raw == 'undefined') {\n                    return result.find('h4.' + titleclass).length > 0;\n                }\n                var titleTag = result.find('.' + titleclass);\n                var contentTag = result.find('.' + contentclass);\n                var HTMLcontent = $('<div>' + content + '</div>');\n                HTMLcontent.find('h4').replaceWith(function() {\n                    return $(\"<h5>\").append($(this).contents());\n                });\n                if (contentTag.html() == HTMLcontent.html()) {\n                    return content > '';\n                }\n                if (content > '') {\n                    titleTag.replaceWith('<h4 class=\"' + titleclass + '\">' + str(name) + '</h4>');\n                    contentTag.replaceWith('<div class=\"ui-widget ' + contentclass + '\">' + HTMLcontent.html() + '</div>');\n                    return true;\n                } else {\n                    titleTag.replaceWith('<div class=\"' + titleclass + '\"></div>');\n                    contentTag.replaceWith('<div class=\"' + contentclass + '\"></div>');\n                    return false;\n                }\n            };\n            this.setResult = function(res, go) {\n                self.updateEvaluationNumber(res);\n                var files = fileManager.getFiles();\n                var fileNames = [];\n                var i;\n                for (i = 0; i < files.length; i++) {\n                    fileNames[i] = files[i].getFileName();\n                    files[i].clearAnnotations();\n                }\n                var show = false;\n                var hasContent;\n                var grade = VPLUtil.sanitizeText(res.grade);\n                var gradeShow;\n                var formated;\n                gradeShow = self.setResultGrade(grade, res.grade);\n                show = show || gradeShow;\n                hasContent = self.setResultTab('variables', res.variables, res.variables);\n                show = show || hasContent;\n                formated = VPLUtil.processResult(res.compilation, fileNames, files, true, false);\n                hasContent = self.setResultTab('compilation', formated, res.compilation);\n                show = show || hasContent;\n                formated = VPLUtil.processResult(res.evaluation, fileNames, files, false, false);\n                hasContent = self.setResultTab('comments', formated, res.evaluation);\n                show = show || hasContent;\n                formated = VPLUtil.sanitizeText(res.execution);\n                hasContent = self.setResultTab('execution', formated, res.execution);\n                show = show || hasContent;\n                hasContent = self.setResultTab('description', window.VPLDescription, window.VPLDescription);\n                if (hasContent && typeof MathJax == 'object') { // MathJax workaround.\n                    var math = result.find(\".vpl_ide_accordion_c_description\")[0];\n                    MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, math]);\n                }\n                show = show || hasContent;\n                if (show) {\n                    resultContainer.removeClass();\n                    resultContainer.addClass([\"vpl_ide_results\", (fileManager.getTheme() == \"terminal\" ? \"ace-terminal-theme\" : \"ace-\" + (fileManager.getTheme() || 'chrome').replaceAll(\"_\",\"-\"))]);\n                    resultContainer.show();\n                    resultContainer.vplVisible = true;\n                    result.accordion(\"refresh\");\n                    result.accordion('option', 'active', gradeShow ? 1 : 0);\n                    result.children().removeClass(\"ui-widget-content\");\n                    for (i = 0; i < files.length; i++) {\n                        var anot = files[i].getAnnotations();\n                        for (var j = 0; j < anot.length; j++) {\n                            if (go || anot[j].type == 'error') {\n                                fileManager.gotoFile(i, anot[j].row + 1);\n                                break;\n                            }\n                        }\n                    }\n                    $('#vpl_ide_rightpanel').show();\n                } else {\n                    resultContainer.hide();\n                    resultContainer.vplVisible = false;\n                    $('#vpl_ide_rightpanel').hide();\n                }\n                VPLUtil.delay('autoResizeTab', autoResizeTab);\n            };\n\n            result.accordion({\n                heightStyle: 'fill',\n                header: 'h4',\n                animate: false,\n                beforeActivate: avoidSelectGrade,\n            });\n            resultContainer.width(2 * resultContainer.vplMinWidth);\n            result.on('click', 'a', function(event) {\n                if (fileManager.gotoFileLink(event.currentTarget)) {\n                    event.preventDefault();\n                }\n            });\n            resultContainer.vplVisible = false;\n            resultContainer.hide();\n\n            fileListContainer.addClass('ui-tabs ui-widget ui-widget-content ui-corner-all');\n            fileList.text(str('filelist'));\n            fileList.html(VPLUtil.iconFolder() + fileList.html());\n            fileList.addClass(\"ui-widget-header ui-button-text-only ui-corner-all\");\n            fileListContent.addClass(\"ui-widget ui-corner-all\");\n            fileListContainer.width(2 * fileListContainer.vplMinWidth);\n            fileListContainer.on('click', 'a', function(event) {\n                event.preventDefault();\n                fileManager.gotoFileLink(event.currentTarget);\n            });\n            fileListContainer.vplVisible = false;\n            fileListContainer.hide();\n            var tabsAir = false;\n            /**\n             * Returns separation space\n             * @returns {int} size in pixels\n             */\n            function getTabsAir() {\n                if (tabsAir === false) {\n                    tabsAir = (tabs.outerWidth(true) - tabs.width()) / 2;\n                }\n                return tabsAir;\n            }\n            /**\n             * Resize tab width\n             * @param {Event} e Unused\n             * @param {Object} ui UI object\n             */\n            function resizeTabWidth(e, ui) {\n                var diffLeft = ui.position.left - ui.originalPosition.left;\n                var maxWidth;\n                if (diffLeft !== 0) {\n                    maxWidth = tabs.width() + fileListContainer.width() - fileListContainer.vplMinWidth;\n                    tabs.resizable('option', 'maxWidth', maxWidth);\n                    fileListContainer.width(fileListContainer.vplOriginalWidth + diffLeft);\n                } else {\n                    maxWidth = tabs.width() + resultContainer.width() - resultContainer.vplMinWidth;\n                    tabs.resizable('option', 'maxWidth', maxWidth);\n                    var diffWidth = ui.size.width - ui.originalSize.width;\n                    resultContainer.width(resultContainer.vplOriginalWidth - diffWidth);\n                }\n                fileManager.currentFile('adjustSize');\n            }\n            var resizableOptions = {\n                containment: 'parent',\n                resize: resizeTabWidth,\n                start: function() {\n                    $(window).off('resize', autoResizeTab);\n                    tabs.resizable('option', 'minWidth', 100);\n                    if (resultContainer.vplVisible) {\n                        resultContainer.vplOriginalWidth = resultContainer.width();\n                    }\n                    if (fileListContainer.vplVisible) {\n                        fileListContainer.vplOriginalWidth = fileListContainer.width();\n                    }\n                },\n                stop: function(e, ui) {\n                    resizeTabWidth(e, ui);\n                    tabs.resizable('option', 'maxWidth', 100000);\n                    tabs.resizable('option', 'minWidth', 0);\n                    autoResizeTab();\n                    $(window).on('resize', autoResizeTab);\n                },\n                handles: \"\"\n            };\n            tabs.resizable(resizableOptions);\n             /**\n              * Updates handles for internal IDE resize\n              */\n            function updateTabsHandles() {\n                var handles = ['e', 'w', 'e', 'e, w'];\n                var index = 0;\n                index += fileListContainer.vplVisible ? 1 : 0;\n                index += resultContainer.vplVisible ? 2 : 0;\n                tabs.resizable('destroy');\n                resizableOptions.handles = handles[index];\n                resizableOptions.disable = index === 0;\n                tabs.resizable(resizableOptions);\n            }\n            /**\n             * Resize the IDE height\n             */\n            function resizeHeight() {\n                var newHeight = $(window).outerHeight();\n                newHeight -= menu.offset().top + menu.height() + (fullScreen ? getTabsAir() : 20);\n                if (newHeight < 150) {\n                    newHeight = 150;\n                }\n                tr.height(newHeight);\n                var panelHeight = newHeight - 3 * getTabsAir();\n                tabs.height(panelHeight);\n                if (resultContainer.vplVisible) {\n                    resultContainer.height(panelHeight + getTabsAir());\n                    result.accordion('refresh');\n                }\n                if (fileListContainer.vplVisible) {\n                    fileListContent.height(panelHeight - (fileList.outerHeight() + getTabsAir()));\n                    fileListContainer.height(panelHeight);\n                }\n            }\n            adjustTabsTitles = function(center) {\n                var newWidth = tabs.width();\n                var tabsUlWidth = 0;\n                tabsUl.width(100000);\n                var last = tabsUl.children('li:visible').last();\n                if (last.length) {\n                    var parentScrollLeft = tabsUl.parent().scrollLeft();\n                    tabsUlWidth = parentScrollLeft + last.position().left + last.width() + tabsAir;\n                    tabsUl.width(tabsUlWidth);\n                    var file = fileManager.currentFile();\n                    if (file && center) {\n                        var fileTab = $(file.getTabNameId());\n                        var scroll = parentScrollLeft + fileTab.position().left;\n                        scroll -= (newWidth - fileTab.outerWidth()) / 2;\n                        if (scroll < 0) {\n                            scroll = 0;\n                        }\n                        tabsUl.parent().finish().animate({\n                            scrollLeft: scroll\n                        }, 'slow');\n                    }\n                }\n                if (tabsUlWidth < newWidth) {\n                    tabsUl.width('');\n                }\n            };\n            autoResizeTab = function() {\n                var oldWidth = tabs.width();\n                var newWidth = menu.width();\n                var planb = false;\n                updateTabsHandles();\n                tr.width(menu.outerWidth());\n                if (fileListContainer.vplVisible) {\n                    var left = fileListContainer.outerWidth() + tabsAir;\n                    oldWidth += left;\n                    if (left >= 100) {\n                        newWidth -= left;\n                        tabs.css('left', left);\n                    } else {\n                        planb = true;\n                    }\n                } else {\n                    tabs.css('left', 0);\n                }\n                if (resultContainer.vplVisible) {\n                    var right = resultContainer.outerWidth() + tabsAir;\n                    oldWidth += right;\n                    newWidth -= right;\n                    if (newWidth < 100) {\n                        planb = true;\n                    }\n                }\n                if (planb) {\n                    var rel = menu.width() / oldWidth;\n                    var wfl = 0;\n                    if (fileListContainer.vplVisible) {\n                        wfl = fileListContainer.width() * rel;\n                        fileListContainer.width(wfl - tabsAir);\n                        wfl += tabsAir;\n                        tabs.css('left', wfl);\n                    }\n                    tabs.width(tabs.width() * rel);\n                    if (resultContainer.vplVisible) {\n                        resultContainer.width(menu.width() - (wfl + tabs.width() + tabsAir));\n                    }\n                } else {\n                    tabs.width(newWidth);\n                }\n                adjustTabsTitles(true);\n                resizeHeight();\n                fileManager.currentFile('adjustSize');\n            };\n            /**\n             * Transfer focus to current file\n             */\n            function focusCurrentFile() {\n                fileManager.currentFile('focus');\n            }\n            var dialogbaseOptions = $.extend({}, {\n                close: focusCurrentFile\n            }, VPLUtil.dialogbaseOptions);\n            /**\n             * Shows a dialog with a message.\n             * @param {string} message\n             * @param {Object} options icon, title, actions handler (ok, yes, no, close)\n             * @returns {JQuery} JQueryUI Dialog object already open\n             */\n            function showMessage(message, options) {\n                return VPLUtil.showMessage(message, $.extend({}, dialogbaseOptions, options));\n            }\n            showErrorMessage = function(message) {\n                return VPLUtil.showErrorMessage(message, {\n                    close: focusCurrentFile\n                });\n            };\n\n            var dialogNew = $('#vpl_ide_dialog_new');\n            /**\n             * The event handler for the new file action\n             * @param {Object} event\n             * @return {boolean}\n             */\n            function newFileHandler(event) {\n                if (!(event.type == 'click' || ((event.type == 'keypress') && event.keyCode == 13))) {\n                    return true;\n                }\n                dialogNew.dialog('close');\n                var file = {\n                    name: $('#vpl_ide_input_newfilename').val(),\n                    contents: '',\n                    encoding: 0\n                };\n                var newfile = fileManager.addFile(file, false, updateMenu, showErrorMessage);\n                if (newfile) {\n                    fileManager.open(newfile);\n                    tabs.tabs('option', 'active', fileManager.getTabPos(newfile));\n                    newfile.focus();\n                    return true;\n                }\n                return false;\n            }\n\n            var dialogButtons = {};\n            dialogButtons[str('ok')] = newFileHandler;\n            dialogButtons[str('cancel')] = function() {\n                $(this).dialog('close');\n            };\n            dialogNew.find('input').on('keypress', newFileHandler);\n            dialogNew.dialog($.extend({}, dialogbaseOptions, {\n                title: str('create_new_file'),\n                buttons: dialogButtons\n            }));\n            VPLUtil.setDialogTitleIcon(dialogNew, 'new');\n\n            var dialogRename = $('#vpl_ide_dialog_rename');\n            /**\n             * The event handler for the rename current file action\n             * @param {Object} event\n             */\n            function renameHandler(event) {\n                if (!(event.type == 'click' || ((event.type == 'keypress') && event.keyCode == 13))) {\n                    return;\n                }\n                dialogRename.dialog('close');\n                fileManager.renameFile(fileManager.currentFile('getFileName'),\n                        $('#vpl_ide_input_renamefilename').val(), showErrorMessage);\n                event.preventDefault();\n            }\n            dialogRename.find('input').on('keypress', renameHandler);\n            dialogButtons[str('ok')] = renameHandler;\n            dialogRename.dialog($.extend({}, dialogbaseOptions, {\n                open: function() {\n                    $('#vpl_ide_input_renamefilename').val(fileManager.currentFile('getFileName'));\n                },\n                title: str('rename_file'),\n                buttons: dialogButtons\n            }));\n            VPLUtil.setDialogTitleIcon(dialogRename, 'rename');\n\n            dialogButtons[str('ok')] = function() {\n                $(this).dialog('close');\n            };\n            var dialogComments = $('#vpl_ide_dialog_comments');\n            dialogComments.dialog($.extend({}, dialogbaseOptions, {\n                title: str('comments'),\n                width: '40em',\n                buttons: dialogButtons\n            }));\n            VPLUtil.setDialogTitleIcon(dialogComments, 'comments');\n\n            $('#vpl_ide_input_comments').width('30em');\n            var aboutDialog = $('#vpl_ide_dialog_about');\n            var OKButtons = {};\n            OKButtons[str('ok')] = function() {\n                $(this).dialog('close');\n            };\n            var shortcutDialog = $('#vpl_ide_dialog_shortcuts');\n            shortcutDialog.dialog($.extend({}, dialogbaseOptions, {\n                open: function() {\n                    var html = menuButtons.getShortcuts(fileManager.currentFile('getEditor'));\n                    $('#vpl_ide_dialog_shortcuts').html(html);\n                },\n                title: str('shortcuts'),\n                width: 400,\n                height: 300,\n                buttons: OKButtons\n            }));\n            shortcutDialog.dialog('option', 'height', 300);\n            VPLUtil.setDialogTitleIcon(shortcutDialog, 'shortcuts');\n\n            OKButtons[str('shortcuts')] = function() {\n                $(this).dialog('close');\n                shortcutDialog.dialog('open');\n            };\n            aboutDialog.dialog($.extend({}, dialogbaseOptions, {\n                open: function() {\n                    var html = menuButtons.getShortcuts(fileManager.currentFile('getEditor'));\n                    aboutDialog.next().find(\"button\").filter(\n                        function() {\n                            return $(this).text() == str('shortcuts');\n                        }\n                  ).button(html != '' ? 'enable' : 'disable');\n                },\n                title: str('about'),\n                width: 400,\n                height: 300,\n                buttons: OKButtons\n            }));\n            aboutDialog.dialog('option', 'height', 300);\n            VPLUtil.setDialogTitleIcon(aboutDialog, 'about');\n\n            var dialogSort = $('#vpl_ide_dialog_sort');\n            var dialogSortButtons = {};\n            dialogSortButtons[str('ok')] = function() {\n                var files = fileManager.getFiles();\n                var regNoNumber = /[^\\d]*/;\n                var sorted = [];\n                var i = 0;\n                var newOrder = $('#vpl_sort_list li');\n                if (newOrder.length != files.length) {\n                    return;\n                }\n                newOrder.each(function() {\n                    var orig = parseInt(this.id.replace(regNoNumber, ''));\n                    sorted.push(files[orig]);\n                });\n                for (i = 0; i < newOrder.length; i++) {\n                    files[i] = sorted[i];\n                }\n                fileManager.setModified();\n                $(this).dialog('close');\n            };\n            dialogSortButtons[str('cancel')] = function() {\n                $(this).dialog('close');\n            };\n            dialogSort.dialog($.extend({}, dialogbaseOptions, {\n                title: str('sort'),\n                buttons: dialogSortButtons,\n                open: function() {\n                    var list = $('#vpl_sort_list');\n                    list.html('');\n                    var files = fileManager.getFiles();\n                    for (var i = 0; i < files.length; i++) {\n                        var file = $('<li id=\"vpl_fsort_' + i + '\"class=\"ui-widget-content\"></li>');\n                        if (i < minNumberOfFiles) {\n                            file.addClass('ui-state-disabled');\n                        }\n                        file.text((i + 1) + '-' + files[i].getFileName());\n                        list.append(file);\n                    }\n                    list.sortable({\n                        items: \"li:not(.ui-state-disabled)\",\n                        placeholder: \"ui-state-highlight\",\n                        start: function(event, ui) {\n                            ui.item.addClass('ui-state-highlight');\n                        },\n                        stop: function(event, ui) {\n                            ui.item.removeClass('ui-state-highlight');\n                        },\n                    });\n                    list.disableSelection();\n                },\n                maxHeight: 400\n            }));\n            VPLUtil.setDialogTitleIcon(dialogSort, 'sort');\n\n            var dialogMultidelete = $('#vpl_ide_dialog_multidelete');\n            var dialogMultideleteButtons = {};\n            dialogMultideleteButtons[str('selectall')] = function() {\n                $(this).find('input').prop(\"checked\", true);\n            };\n            dialogMultideleteButtons[str('deselectall')] = function() {\n                $(this).find('input').prop(\"checked\", false);\n            };\n            dialogMultideleteButtons[str('deleteselected')] = function() {\n                var files = fileManager.getFiles();\n                var toDeleteList = [];\n                var labelList = $('#vpl_multidelete_list label');\n                labelList.each(function() {\n                    var label = $(this);\n                    if (label.find('input').prop('checked')) {\n                        var id = label.data('fileid');\n                        toDeleteList.push(files[id].getFileName());\n                    }\n                });\n                for (var i = 0; i < toDeleteList.length; i++) {\n                    fileManager.deleteFile(toDeleteList[i], showErrorMessage);\n                }\n                VPLUtil.delay('updateMenu', updateMenu);\n                VPLUtil.delay('updateFileList', fileManager.updateFileList);\n                $(this).dialog('close');\n            };\n            dialogMultideleteButtons[str('cancel')] = function() {\n                $(this).dialog('close');\n            };\n            dialogMultidelete.dialog($.extend({}, dialogbaseOptions, {\n                title: str('multidelete'),\n                buttons: dialogMultideleteButtons,\n                open: function() {\n                    var list = $('#vpl_multidelete_list');\n                    list.html('');\n                    var files = fileManager.getFiles();\n                    for (var i = minNumberOfFiles; i < files.length; i++) {\n                        var name = VPLUtil.sanitizeText(files[i].getFileName());\n                        var file = $('<label><input type=\"checkbox\"> ' + name + '</label>');\n                        file.data('fileid', i);\n                        list.append(file);\n                        list.append('<br>');\n                    }\n                    list.find('label').button();\n                },\n                maxHeight: 400,\n                maxWidth: 400\n            }));\n            VPLUtil.setDialogTitleIcon(dialogMultidelete, 'multidelete');\n\n            var dialogFontsize = $('#vpl_ide_dialog_fontsize');\n            var fontsizeSlider = $('#vpl_ide_dialog_fontsize .vpl_fontsize_slider');\n            var dialogFontFizeButtons = {};\n            dialogFontFizeButtons[str('ok')] = function() {\n                var value = fontsizeSlider.slider(\"value\");\n                fileManager.setFontSize(value);\n                $(this).dialog('close');\n                $.ajax({\n                    async: true,\n                    type: \"POST\",\n                    url: '../editor/userpreferences.json.php',\n                    'data': JSON.stringify({fontSize: value}),\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\"\n                });\n            };\n            dialogFontFizeButtons[str('cancel')] = function() {\n                fileManager.setFontSize(fontsizeSlider.data(\"vpl_fontsize\"));\n                $(this).dialog('close');\n            };\n            dialogFontFizeButtons[str('reset')] = function() {\n                fontsizeSlider.slider('value', 12);\n            };\n            dialogFontsize.dialog($.extend({}, dialogbaseOptions, {\n                title: str('fontsize'),\n                buttons: dialogFontFizeButtons,\n                open: function() {\n                    fontsizeSlider.data(\"vpl_fontsize\", fileManager.getFontSize());\n                    fontsizeSlider.slider('value', fileManager.getFontSize());\n                },\n            }));\n            fontsizeSlider.slider({\n                min: 1,\n                max: 48,\n                change: function() {\n                    var value = fontsizeSlider.slider(\"value\");\n                    fileManager.setFontSize(value);\n                    dialogFontsize.find('.vpl_fontsize_slider_value').text(value);\n                }\n            });\n            VPLUtil.setDialogTitleIcon(dialogFontsize, 'fontsize');\n\n            var dialogAceTheme = $('#vpl_ide_dialog_acetheme');\n            var acethemeSelect = $('#vpl_ide_dialog_acetheme select');\n            var dialogAceThemeButtons = {};\n            dialogAceThemeButtons[str('ok')] = function() {\n                fileManager.setTheme(acethemeSelect.val());\n                $(this).dialog('close');\n                VPLUtil.setUserPreferences({aceTheme: acethemeSelect.val()});\n            };\n            dialogAceThemeButtons[str('cancel')] = function() {\n                fileManager.setTheme(acethemeSelect.data(\"acetheme\"));\n                $(this).dialog('close');\n            };\n            dialogAceThemeButtons[str('reset')] = function() {\n                acethemeSelect.val(acethemeSelect.data(\"acetheme\"));\n                fileManager.setTheme(acethemeSelect.val());\n            };\n            dialogAceTheme.dialog($.extend({}, dialogbaseOptions, {\n                title: str('theme'),\n                buttons: dialogAceThemeButtons,\n                modal: false,\n                open: function() {\n                    acethemeSelect.data(\"acetheme\", fileManager.getTheme());\n                    acethemeSelect.val(fileManager.getTheme());\n                },\n            }));\n            acethemeSelect.on('change', function() {\n                    $(vpl_results).removeClass();\n                    $(vpl_results).addClass([\"vpl_ide_results\", (acethemeSelect.val() == \"terminal\" ? \"ace-terminal-theme\" : \"ace-\" + (acethemeSelect.val() || 'chrome').replaceAll(\"_\",\"-\"))]);\n                    fileManager.setTheme(acethemeSelect.val());\n            });\n            VPLUtil.setDialogTitleIcon(dialogAceTheme, 'theme');\n\n            var terminal = new VPLTerminal('vpl_dialog_terminal', 'vpl_terminal', str);\n            var VNCClient = new VPLVNCClient('vpl_dialog_vnc', str);\n            var lastConsole = terminal;\n            var fileSelect = $('#vpl_ide_input_file');\n            var fileSelectHandler = function() {\n                VPLUtil.readSelectedFiles(this.files, function(file) {\n                    return fileManager.addFile(file, true, updateMenu, showErrorMessage);\n                },\n                function() {\n                    fileManager.fileListVisibleIfNeeded();\n                });\n            };\n            fileSelect.on('change', fileSelectHandler);\n            // Menu acctions.\n            menuButtons.add({\n                name: 'filelist',\n                originalAction: function() {\n                    fileManager.fileListVisible(!fileManager.isFileListVisible());\n                    VPLUtil.delay('updateMenu', updateMenu);\n                    VPLUtil.delay('autoResizeTab', autoResizeTab);\n                    VPLUtil.delay('updateFileList', fileManager.updateFileList);\n                },\n                bindKey: {\n                    win: 'Ctrl-L',\n                    mac: 'Ctrl-L'\n                }\n            });\n\n            menuButtons.add({\n                name: 'new',\n                originalAction: function() {\n                    if (fileManager.length() < maxNumberOfFiles) {\n                        dialogNew.dialog('open');\n                    }\n                },\n                bindKey: {\n                    win: 'Alt-N',\n                    mac: 'Option-N'\n                }\n            });\n            menuButtons.add({\n                name: 'rename',\n                originalAction: function() {\n                    var file = fileManager.currentFile();\n                    if (file && fileManager.getFilePosById(file.getId()) >= minNumberOfFiles) {\n                        dialogRename.dialog('open');\n                    }\n                },\n                bindKey: {\n                    win: 'Ctrl-R',\n                    mac: 'Ctrl-R'\n                }\n            });\n            menuButtons.add({\n                name: 'delete',\n                originalAction: function() {\n                    var file = fileManager.currentFile();\n                    if (!file) {\n                        return;\n                    }\n                    var filename = file.getFileName();\n                    var message = str('delete_file_fq', filename);\n                    showMessage(message, {\n                        ok: function() {\n                            fileManager.deleteFile(filename, showErrorMessage);\n                        },\n                        title: str('delete_file_q'),\n                        icon: 'trash'\n                    });\n                },\n                bindKey: {\n                    win: 'Ctrl-D',\n                    mac: 'Ctrl-D'\n                }\n            });\n            menuButtons.add({\n                name: 'close',\n                originalAction: function() {\n                    var file = fileManager.currentFile();\n                    if (!file) {\n                        return;\n                    }\n                    fileManager.close(file);\n                },\n                bindKey: {\n                    win: 'Alt-W',\n                    mac: 'Option-W'\n                }\n            });\n            menuButtons.add({\n                name: 'import',\n                originalAction: function() {\n                    fileSelect.val('');\n                    fileSelect.trigger('click');\n                },\n                bindKey: {\n                    win: 'Ctrl-I',\n                    mac: 'Ctrl-I'\n                }\n            });\n            menuButtons.add({\n                name: 'sort',\n                originalAction: function() {\n                    dialogSort.dialog('open');\n                },\n                bindKey: {\n                    win: 'Ctrl-O',\n                    mac: 'Ctrl-O'\n                }\n            });\n            menuButtons.add({\n                name: 'multidelete',\n                originalAction: function() {\n                    dialogMultidelete.dialog('open');\n                }\n            });\n            menuButtons.add({\n                name: 'fontsize',\n                originalAction: function() {\n                    dialogFontsize.dialog('open');\n                }\n            });\n            menuButtons.add({\n                name: 'theme',\n                originalAction: function() {\n                    dialogAceTheme.dialog('open');\n                }\n            });\n            menuButtons.add({\n                name: 'print',\n                originalAction: function() {\n                    window.print();\n                },\n                bindKey: {\n                    win: 'Alt-P',\n                    mac: 'Command-P'\n                }\n            });\n            menuButtons.add({\n                name: 'undo',\n                originalAction: function() {\n                    fileManager.currentFile('undo');\n                }\n            });\n            menuButtons.add({\n                name: 'redo',\n                originalAction: function() {\n                    fileManager.currentFile('redo');\n                }\n            });\n            menuButtons.add({\n                name: 'select_all',\n                editorName: 'selectall',\n                originalAction: function() {\n                    fileManager.currentFile('selectAll');\n                }\n            });\n            menuButtons.add({\n                name: 'find',\n                originalAction: function() {\n                    fileManager.currentFile('find');\n                }\n            });\n            menuButtons.add({\n                name: 'find_replace',\n                editorName: 'replace',\n                originalAction: function() {\n                    fileManager.currentFile('replace');\n                }\n            });\n            menuButtons.add({\n                name: 'next',\n                editorName: 'findnext',\n                originalAction: function() {\n                    fileManager.currentFile('next');\n                }\n            });\n            menuButtons.add({\n                name: 'fullscreen',\n                originalAction: function() {\n                    var tags = 'header, nav, footer, aside, .dropdown, #page-header, div.navbar, #nav-drawer';\n                    tags += ', div.tabtree, #dock, .breadcrumb-nav, .moodle-actionmenu';\n                    if (fullScreen) {\n                        rootObj.removeClass('vpl_ide_root_fullscreen');\n                        $('body').removeClass('vpl_body_fullscreen');\n                        menuButtons.setText('fullscreen', 'fullscreen');\n                        $(tags).show();\n                        $('#vpl_ide_user').hide();\n                        fullScreen = false;\n                    } else {\n                        $('body').addClass('vpl_body_fullscreen').scrollTop(0);\n                        $(tags).hide();\n                        rootObj.addClass('vpl_ide_root_fullscreen');\n                        menuButtons.setText('fullscreen', 'regularscreen');\n                        if (options.username) {\n                            $('#vpl_ide_user').show();\n                        }\n                        fullScreen = true;\n                    }\n                    focusCurrentFile();\n                    setTimeout(autoResizeTab, 10);\n                },\n                bindKey: {\n                    win: 'Alt-F',\n                    mac: 'Ctrl-F'\n                }\n            });\n            menuButtons.add({\n                name: 'download',\n                originalAction: function() {\n                    window.location = options.download;\n                }\n            });\n            /**\n             * Reset files action\n             */\n            function resetFiles() {\n                VPLUtil.requestAction('resetfiles', '', {}, options.ajaxurl)\n                .done(function(response) {\n                    var files = response.files;\n                    for (var fileName in files) {\n                        if (files.hasOwnProperty(fileName)) {\n                            fileManager.addFile(files[fileName], true, VPLUtil.doNothing, showErrorMessage);\n                        }\n                    }\n                    fileManager.fileListVisibleIfNeeded();\n                    VPLUtil.delay('updateMenu', updateMenu);\n                }).fail(showErrorMessage);\n            }\n            menuButtons.add({\n                name: 'resetfiles',\n                originalAction: function() {\n                    showMessage(str('sureresetfiles'), {\n                        title: str('resetfiles'),\n                        ok: resetFiles,\n                        icon: 'resetfiles'\n                    });\n                }\n            });\n            menuButtons.add({\n                name: 'save',\n                originalAction: function() {\n                    var data = {\n                        files: fileManager.getFilesToSave(),\n                        comments: $('#vpl_ide_input_comments').val(),\n                        version: fileManager.getVersion()\n                    };\n                    if (JSON.stringify(data).length > options.postMaxSize) {\n                        showErrorMessage(str('maxpostsizeexceeded'));\n                        return;\n                    }\n                    /**\n                     * Save action\n                     */\n                    function doSave() {\n                        const reg = /^lang_[^_]+_[^_]+\\.json$/;\n                        let langConfigParseError = false;\n                        for (let i = 0; i < data.files.length; i++){\n                            file = data.files[i];                        \n                            if (reg.test(file.name)){\n                                try {\n                                    JSON.parse(file.contents);\n                                } catch (e) {\n                                    if (e instanceof SyntaxError){\n                                        langConfigParseError = true;\n                                        showErrorMessage(`Enhance configuration file ${file.name} with parse error`);\n                                        break;\n                                    } else {\n                                        throw e;\n                                    }\n                                }\n                            }\n                        }\n                        if (!langConfigParseError){\n                            VPLUtil.requestAction('save', 'saving', data, options.ajaxurl)\n                            .done(function(response) {\n                                if (response.requestsconfirmation) {\n                                    showMessage(response.question, {\n                                        title: str('saving'),\n                                        icon: 'alert',\n                                        yes: function() {\n                                            data.version = 0;\n                                            doSave();\n                                        }\n                                    });\n                                } else {\n                                    fileManager.resetModified();\n                                    fileManager.setVersion(response.version);\n                                    menuButtons.setTimeLeft(response);\n                                    VPLUtil.delay('updateMenu', updateMenu);\n                                    if (VPLUtil.monitorRunning()) {\n                                        data.processid = VPLUtil.getProcessId();\n                                        VPLUtil.requestAction('update', 'updating', data, options.ajaxurl);\n                                    }\n                                }\n                            }).fail(showErrorMessage);\n                        }\n                    }\n                    doSave();\n                },\n                bindKey: {\n                    win: 'Ctrl-S',\n                    mac: 'Command-S'\n                }\n            });\n\n            /**\n             * Launches the action\n             *\n             * @param {string} action Action 'run', 'debug', 'evaluate'\n             * @param {string} acting I18n for the action in progress\n             * @param {string} data Data attached to the action\n             */\n            function executionRequest(action, acting, data) {\n                if (!data) {\n                    data = {};\n                }\n                if (!lastConsole.isConnected()) {\n                    VPLUtil.requestAction(action, '', data, options.ajaxurl)\n                    .done(function(response) {\n                        VPLUtil.webSocketMonitor(response, action, acting, executionActions);\n                    })\n                    .fail(showErrorMessage);\n                }\n            }\n            /**\n             * Launches the run action\n             */\n            function runAction() {\n                executionRequest('run', 'running', {\n                    XGEOMETRY: VNCClient.getCanvasSize()\n                });\n            }\n            menuButtons.add({\n                name: 'run',\n                originalAction: function() {\n                    executionActions.setLastAction(runAction);\n                    runAction();\n                },\n                bindKey: {\n                    win: 'Ctrl-F11',\n                    mac: 'Command-U'\n                }\n            });\n            /**\n             * Launches the debug action\n             */\n            function debugAction() {\n                executionRequest('debug', 'debugging', {\n                    XGEOMETRY: VNCClient.getCanvasSize()\n                });\n            }\n            menuButtons.add({\n                name: 'debug',\n                originalAction: function() {\n                    executionActions.setLastAction(debugAction);\n                    debugAction();\n                },\n                bindKey: {\n                    win: 'Alt-F11',\n                    mac: 'Option-U'\n                }\n            });\n            /**\n             * Launches the evaluate action\n             */\n            function evaluateAction() {\n                executionRequest('evaluate', 'evaluating');\n            }\n            menuButtons.add({\n                name: 'evaluate',\n                originalAction: function() {\n                    executionActions.setLastAction(evaluateAction);\n                    evaluateAction();\n                },\n                bindKey: {\n                    win: 'Shift-F11',\n                    mac: 'Command-Option-U'\n                }\n            });\n            menuButtons.add({\n                name: 'comments',\n                originalAction: function() {\n                    dialogComments.dialog('open');\n                },\n            });\n            menuButtons.add({\n                name: 'console',\n                originalAction: function() {\n                    if (lastConsole.isOpen()) {\n                        lastConsole.close();\n                    } else {\n                        lastConsole.show();\n                    }\n                }\n            });\n            menuButtons.add({name: 'user'});\n            menuButtons.add({\n                name: 'about',\n                originalAction: function() {\n                    aboutDialog.dialog('open');\n                }\n            });\n            menuButtons.add({\n                name: 'timeleft',\n                originalAction: function() {\n                    menuButtons.toggleTimeLeft();\n                }\n            });\n            menuButtons.add({\n                name: 'more',\n                originalAction: function() {\n                    var tag = $('#vpl_ide_menuextra');\n                    if (tag.is(\":visible\")) {\n                        menuButtons.setText('more', 'more', VPLUtil.str('more'));\n                        tag.hide();\n                    } else {\n                        menuButtons.setText('more', 'less', VPLUtil.str('less'));\n                        tag.show();\n                    }\n                    VPLUtil.delay('updateMenu', updateMenu);\n                    VPLUtil.delay('autoResizeTab', autoResizeTab);\n                }\n            });\n            menuButtons.add({\n                name: 'rightpanel',\n                icon: 'close-rightpanel',\n                originalAction: function() {\n                    if (resultContainer.vplVisible) {\n                        resultContainer.hide();\n                        resultContainer.vplVisible = false;\n                        menuButtons.setText('rightpanel', 'open-rightpanel', VPLUtil.str('rightpanel'));\n                    } else {\n                        menuButtons.setText('rightpanel', 'close-rightpanel', VPLUtil.str('rightpanel'));\n                        resultContainer.show();\n                        resultContainer.vplVisible = true;\n                    }\n                    VPLUtil.delay('autoResizeTab', autoResizeTab);\n                },\n                bindKey: {\n                    win: 'Ctrl-M',\n                    mac: 'Ctrl-M'\n                }\n            });\n            var rightpanelstyle = \"position:absolute;right:0;top:60px;z-index:100;margin:3px\";\n            tr.append('<span style=\"' + rightpanelstyle + '\">' + menuButtons.getHTML('rightpanel') + '</span>');\n            var rightPanelButton = $('#vpl_ide_rightpanel');\n            menuButtons.setText('rightpanel', 'close-rightpanel', VPLUtil.str('rightpanel'));\n\n            rightPanelButton.button();\n            rightPanelButton.css('padding', '0');\n            $('#vpl_ide_rightpanel.ui-button-text').css('padding', '0');\n            rightPanelButton.on('click', function() {\n                menuButtons.launchAction('rightpanel');\n            });\n            rightPanelButton.hide();\n            menu.addClass(\"ui-widget-header ui-corner-all\");\n            var menuHtml = \"\";\n            menuHtml += menuButtons.getHTML('more');\n            menuHtml += menuButtons.getHTML('save');\n            menuHtml += \"<span id='vpl_ide_mexecution'>\";\n            menuHtml += menuButtons.getHTML('run');\n            menuHtml += menuButtons.getHTML('debug');\n            menuHtml += menuButtons.getHTML('evaluate');\n            menuHtml += menuButtons.getHTML('comments');\n            menuHtml += menuButtons.getHTML('console');\n            menuHtml += \"</span> \";\n            menuHtml += \"<span id='vpl_ide_menuextra'>\";\n            menuHtml += \"<span id='vpl_ide_file'>\";\n            // TODO autosave not implemented.\n            menuHtml += menuButtons.getHTML('filelist');\n            menuHtml += menuButtons.getHTML('new');\n            menuHtml += menuButtons.getHTML('rename');\n            menuHtml += menuButtons.getHTML('delete');\n            menuHtml += menuButtons.getHTML('import');\n            menuHtml += menuButtons.getHTML('download');\n            menuHtml += menuButtons.getHTML('resetfiles');\n            menuHtml += menuButtons.getHTML('sort');\n            menuHtml += menuButtons.getHTML('multidelete');\n            menuHtml += menuButtons.getHTML('fontsize');\n            menuHtml += menuButtons.getHTML('theme');\n            menuHtml += \"</span> \";\n            // TODO print still not implemented.\n            menuHtml += \"<span id='vpl_ide_edit'>\";\n            menuHtml += menuButtons.getHTML('undo');\n            menuHtml += menuButtons.getHTML('redo');\n            menuHtml += menuButtons.getHTML('select_all');\n            menuHtml += menuButtons.getHTML('find');\n            menuHtml += menuButtons.getHTML('find_replace');\n            menuHtml += menuButtons.getHTML('next');\n            menuHtml += \"</span> \";\n            menuHtml += \"</span> \";\n            menuHtml += menuButtons.getHTML('fullscreen') + ' ';\n            menuHtml += menuButtons.getHTML('about') + ' ';\n            menuHtml += menuButtons.getHTML('user') + ' ';\n            menuHtml += menuButtons.getHTML('timeleft');\n            menuHtml += '<div class=\"clearfix\"></div>';\n            menu.append(menuHtml);\n            $('#vpl_ide_more').button();\n            $('#vpl_ide_save').button();\n            $('#vpl_ide_menuextra').hide();\n            $('#vpl_ide_file').controlgroup();\n            $('#vpl_ide_edit').controlgroup();\n            $('#vpl_ide_mexecution').controlgroup();\n            $('#vpl_ide_fullscreen').button();\n            $('#vpl_ide_acetheme').button();\n            $('#vpl_ide_about').button();\n            $('#vpl_ide_user').button().css('float', 'right').hide();\n            $('#vpl_ide_timeleft').button().css('float', 'right').hide();\n            $('#vpl_menu .ui-button').css('padding', '6px');\n            $('#vpl_menu .ui-button-text').css('padding', '0');\n            var alwaysActive = ['filelist', 'more', 'fullscreen', 'about', 'resetfiles',\n                                'download', 'comments', 'console', 'import',\n                                'fontsize', 'timeleft'];\n            for (var i = 0; i < alwaysActive.length; i++) {\n                menuButtons.enable(alwaysActive[i], true);\n            }\n            menuButtons.setExtracontent('user', options.username);\n            menuButtons.setTimeLeft(options);\n            updateMenu = function() {\n                var i;\n                var file = fileManager.currentFile();\n                var nfiles = fileManager.length();\n                if (nfiles) {\n                    tabs.show();\n                } else {\n                    tabs.hide();\n                }\n                if (fileManager.isFileListVisible()) {\n                    menuButtons.setText('filelist', 'filelistclose', VPLUtil.str('filelist'));\n                } else {\n                    menuButtons.setText('filelist', 'filelist', VPLUtil.str('filelist'));\n                }\n                var modified = fileManager.isModified();\n                menuButtons.enable('save', modified);\n                var running = VPLUtil.monitorRunning();\n                if (running) {\n                    menuButtons.setText('run', 'running');\n                } else {\n                    menuButtons.setText('run', 'run');\n                }\n                menuButtons.enable('run', !running && (!modified || options.example) && isOptionAllowed('run'));\n                menuButtons.enable('debug', !running && (!modified || options.example) && isOptionAllowed('debug'));\n                menuButtons.enable('evaluate', !running && (!modified || options.example) && isOptionAllowed('evaluate'));\n                menuButtons.enable('download', !modified);\n                menuButtons.enable('new', nfiles < maxNumberOfFiles);\n                menuButtons.enable('sort', nfiles - minNumberOfFiles > 1);\n                menuButtons.enable('multidelete', nfiles - minNumberOfFiles > 1);\n                menuButtons.enable('theme', true);\n                var sel;\n                if (!file || nfiles === 0) {\n                    sel = ['rename', 'delete', 'undo', 'redo', 'select_all', 'find', 'find_replace', 'next'];\n                    for (i = 0; i < sel.length; i++) {\n                        menuButtons.enable(sel[i], false);\n                    }\n                    return;\n                }\n                var id = fileManager.getFilePosById(file.getId());\n                menuButtons.enable('rename', id >= minNumberOfFiles && nfiles !== 0);\n                menuButtons.enable('delete', id >= minNumberOfFiles && nfiles !== 0);\n                menuButtons.enable('undo', file.hasUndo());\n                menuButtons.enable('redo', file.hasRedo());\n                menuButtons.enable('select_all', file.hasSelectAll());\n                menuButtons.enable('find', file.hasFind());\n                menuButtons.enable('find_replace', file.hasFindReplace());\n                menuButtons.enable('next', file.hasNext());\n                VPLUtil.delay('updateFileList', fileManager.updateFileList);\n            };\n\n            executionActions = {\n                'open': updateMenu,\n                'close': updateMenu,\n                'getConsole': function() {\n                    return lastConsole;\n                },\n                'setResult': self.setResult,\n                'ajaxurl': options.ajaxurl,\n                'run': function(content, coninfo, ws) {\n                    var parsed = /^([^:]*):?(.*)/i.exec(content);\n                    var type = parsed[1];\n                    if (type == 'terminal' || type == 'webterminal') {\n                        if (lastConsole && lastConsole.isOpen()) {\n                            lastConsole.close();\n                        }\n                        lastConsole = terminal;\n                        terminal.connect(coninfo.executionURL, function() {\n                            ws.close();\n                            focusCurrentFile();\n                        });\n                        if (type == 'webterminal') {\n                            var URLfavicon = (coninfo.secure ? \"https\" : \"http\") + \"://\" + coninfo.server + \":\" + coninfo.portToUse;\n                            URLfavicon += \"/favicon.ico\";\n                            var imgFavicon = $('<img>');\n                            imgFavicon.attr('src', URLfavicon);\n                            imgFavicon.attr('style', 'display:none');\n                            $('body').append(imgFavicon);\n                        }\n                    } else if (type == 'vnc') {\n                        if (lastConsole && lastConsole.isOpen()) {\n                            lastConsole.close();\n                        }\n                        lastConsole = VNCClient;\n                        VNCClient.connect(coninfo.secure, coninfo.server, coninfo.portToUse, coninfo.VNCpassword,\n                                coninfo.executionPath, function() {\n                                    ws.close();\n                                    focusCurrentFile();\n                                });\n                    } else if (type == \"browser\") {\n                        var URL = (coninfo.secure ? \"https\" : \"http\") + \"://\" + coninfo.server + \":\" + coninfo.portToUse + \"/\";\n                        URL += parsed[2] + \"/httpPassthrough\";\n                        if (isTeacher) {\n                            URL += \"?private\";\n                        }\n                        var message = '<a href=\"' + URL + '\" target=\"_blank\">';\n                        message += VPLUtil.str('open') + '</a>';\n                        var options = {\n                            width: 200,\n                            icon: 'run',\n                            title: VPLUtil.str('run'),\n                        };\n                        showMessage(message, options);\n                    } else {\n                        VPLUtil.log(\"Type of run error \" + content, true);\n                    }\n                },\n                'lastAction': false,\n                'getLastAction': function() {\n                    var ret = this.lastAction;\n                    this.lastAction = false;\n                    return ret;\n                },\n                'setLastAction': function(action) {\n                    this.lastAction = action;\n                }\n            };\n\n            tabs.on(\"tabsactivate\", function() {\n                fileManager.currentFile('focus');\n                VPLUtil.delay('updateMenu', updateMenu);\n                VPLUtil.delay('autoResizeTab', autoResizeTab);\n            });\n\n            // VPLIDE resize view control.\n            var jw = $(window);\n            jw.on('resize', autoResizeTab);\n            // Save? before exit.\n            if (!options.example) {\n                jw.on('beforeunload', function() {\n                    if (fileManager.isModified()) {\n                        return str('changesNotSaved');\n                    }\n                    return undefined;\n                });\n            }\n            fileManager = new FileManager();\n\n            autoResizeTab();\n            // Checks menu width every 1 sec as it can change without event.\n            (function() {\n                var oldMenuWidth = menu.width();\n                /**\n                 * Checks menu width change\n                 */\n                function checkMenuWidth() {\n                    var newMenuWidth = menu.width();\n                    if (oldMenuWidth != newMenuWidth) {\n                        oldMenuWidth = newMenuWidth;\n                        autoResizeTab();\n                    }\n                }\n                checkMenuWidth();\n                setInterval(checkMenuWidth, 1000);\n            }());\n            fileManager.resetModified();\n            VPLUtil.requestAction('load', 'loading', options, options.loadajaxurl)\n            .done(function(response) {\n                var allOK = true;\n                var files = response.files;\n                var showFileList = false;\n                for (var i = 0; i < files.length; i++) {\n                    var file = files[i];\n                    var r = fileManager.addFile(file, false, updateMenu, showErrorMessage);\n                    if (r) {\n                        r.resetModified();\n                        if (i < minNumberOfFiles || files.length <= 5) {\n                            fileManager.open(r);\n                        } else {\n                            showFileList = true;\n                        }\n                    } else {\n                        allOK = false;\n                    }\n                }\n                tabs.tabs('option', 'active', 0);\n\n                if (response.compilationexecution) {\n                    self.setResult(response.compilationexecution, false);\n                }\n                menuButtons.setTimeLeft(response);\n                if (response.comments > '') {\n                    $('#vpl_ide_input_comments').val(response.comments);\n                }\n                if (allOK) {\n                    fileManager.resetModified();\n                } else {\n                    fileManager.setModified();\n                }\n                if (fileManager.length() === 0 && maxNumberOfFiles > 0) {\n                    menuButtons.getAction('new')();\n                } else if (!options.saved) {\n                    fileManager.setModified();\n                }\n                fileManager.setFontSize(options.fontSize);\n                fileManager.setVersion(response.version);\n                fileManager.fileListVisible(showFileList);\n                VPLUtil.afterAll('AfterLoadFiles', function() {\n                    updateMenu();\n                    autoResizeTab();\n                    adjustTabsTitles(true);\n                });\n            })\n            .fail(showErrorMessage);\n        };\n        window.VPLIDE = VPLIDE;\n        return {\n            init: function(rootId, options) {\n                vplIdeInstance = new VPLIDE(rootId, options);\n            }\n        };\n    }\n);\n"],"mappings":"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"}